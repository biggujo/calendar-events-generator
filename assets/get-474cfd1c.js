import{l as u,s as m,i as f}from"./showBody-678246e6.js";async function p({title:t,description:n,location:e,url:a,startDate:o,endDate:c}){const i=o.split(",").map(s=>Number(s)),l=c.split(",").map(s=>Number(s));return u({start:i,end:l,title:t,description:n,location:e,url:a||void 0,status:"CONFIRMED",busyStatus:"BUSY"},(s,d)=>s?Promise.reject(s):Promise.resolve(d))}function y(){const t=new URLSearchParams(window.location.search),n={};for(const[e,a]of t.entries()){if(e==="start"||e==="end"){n[e]=a.split(",").map(o=>parseInt(o));continue}n[e]=a}return n}function v({data:t,filename:n,type:e}){const a=new File([t],n,{type:e}),o=document.createElement("a"),c=URL.createObjectURL(a);o.href=c,o.download=a.name,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(c)}const w="plain/text",r=y();m();h();function h(){if(b(r)){console.log("Parameters are empty");return}const t={createIcsButton:document.getElementById("create-ics-button"),eventContainerRef:document.getElementById("event-info-container")};f({element:t.eventContainerRef,data:{title:r.title,description:r.description,location:r.location,url:r.url},startDate:r.startDate,endDate:r.endDate,shouldShowEmpty:!1}),t.createIcsButton.addEventListener("click",n);async function n(){try{const e=await p(r);if(e.error)throw new Error(e.error.message);v({data:e,filename:"test.ics",type:w})}catch(e){console.log(e)}}}function b(t){return Object.keys(t).length===0}
