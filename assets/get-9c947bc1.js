import{s,i,l}from"./showBody-e0ba2d16.js";function d(){const n=new URLSearchParams(window.location.search),o={};for(const[e,a]of n.entries()){if(e==="start"||e==="end"){o[e]=a.split(",").map(r=>parseInt(r));continue}o[e]=a}return o}function m({data:n,filename:o,type:e}){const a=new File([n],o,{type:e}),r=document.createElement("a"),c=URL.createObjectURL(a);r.href=c,r.download=a.name,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(c)}const u="plain/text",t=d();console.log(t);s();f();function f(){if(p(t)){console.log("Parameters are empty");return}const n={createIcsButton:document.getElementById("create-ics-button"),eventContainerRef:document.getElementById("event-info-container")};i({element:n.eventContainerRef,data:{title:t.title,description:t.description,location:t.location,url:t.url},startDate:t.startDate,endDate:t.endDate,shouldShowEmpty:!1}),n.createIcsButton.addEventListener("click",o);async function o(){try{const e=await l(t);if(e.error)throw new Error(e.error.message);m({data:e,filename:"test.ics",type:u})}catch(e){console.log(e)}}}function p(n){return Object.keys(n).length===0}
